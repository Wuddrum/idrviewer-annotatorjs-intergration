webpackJsonp([2],{0:function(l,n,u){l.exports=u("cDNt")},cDNt:function(l,n,u){"use strict";function e(l){return l.getBaseHrefFromDOM()}function t(l){return s._30(0,[(l()(),s._14(0,0,null,null,39,"div",[["id","left"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n    "])),(l()(),s._14(2,0,null,null,10,"div",[["id","left-controls"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(4,0,null,null,1,"button",[["class","btn"],["id","btnThumbnails"],["title","Thumbnails"]],null,null,null,null,null)),(l()(),s._14(5,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-picture-o fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(7,0,null,null,1,"button",[["class","btn"],["id","btnOutlines"],["title","Bookmarks"]],null,null,null,null,null)),(l()(),s._14(8,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-list-ul fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(10,0,null,null,1,"button",[["class","btn"],["id","btnSearch"],["title","Search"]],null,null,null,null,null)),(l()(),s._14(11,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-search fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n    "])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._14(14,0,null,null,24,"div",[["id","leftContent"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(16,0,null,null,0,"div",[["id","thumbnailPanel"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(18,0,null,null,0,"div",[["id","outlinePanel"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(20,0,null,null,17,"div",[["id","searchPanel"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(22,0,null,null,0,"input",[["id","searchInput"],["title","Search"],["type","text"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(24,0,null,null,2,"label",[["class","searchOption"]],null,null,null,null,null)),(l()(),s._14(25,0,null,null,0,"input",[["id","cbMatchCase"],["type","checkbox"]],null,null,null,null,null)),(l()(),s._29(-1,null,[" Match case"])),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(28,0,null,null,2,"label",[["class","searchOption"]],null,null,null,null,null)),(l()(),s._14(29,0,null,null,0,"input",[["id","cbLimitResults"],["type","checkbox"]],null,null,null,null,null)),(l()(),s._29(-1,null,[" Limit results 1 per page"])),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(32,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(34,0,null,null,0,"span",[["id","searchResultsCount"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(36,0,null,null,0,"div",[["id","searchResults"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._29(-1,null,["\n"])),(l()(),s._29(-1,null,["\n\n"])),(l()(),s._14(41,0,null,null,69,"div",[["id","main"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n    "])),(l()(),s._14(43,0,null,null,63,"div",[["id","controls"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(45,0,null,null,7,"div",[["id","controls-left"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(47,0,null,null,1,"button",[["class","btn"],["id","btnSideToggle"],["title","Sidebar"]],null,null,null,null,null)),(l()(),s._14(48,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-th fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(50,0,null,null,1,"button",[["class","btn"],["id","btnThemeToggle"],["title","Theme Toggle"]],null,null,null,null,null)),(l()(),s._14(51,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-lightbulb-o fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._29(-1,null,["\n\n        "])),(l()(),s._14(54,0,null,null,45,"div",[["id","controls-center"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(56,0,null,null,1,"button",[["class","btn"],["id","btnPrev"],["title","Previous Page"]],null,null,null,null,null)),(l()(),s._14(57,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-caret-left fa-2x"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(59,0,null,null,1,"select",[["id","goBtn"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n\n            "])),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(62,0,null,null,0,"span",[["id","pgCount"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(64,0,null,null,1,"button",[["class","btn"],["id","btnNext"],["title","Next Page"]],null,null,null,null,null)),(l()(),s._14(65,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-caret-right fa-2x"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n\n            "])),(l()(),s._14(67,0,null,null,1,"button",[["class","btn"],["id","btnSelect"],["title","Select"]],null,null,null,null,null)),(l()(),s._14(68,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-i-cursor fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(70,0,null,null,1,"button",[["class","btn"],["id","btnMove"],["title","Pan"]],null,null,null,null,null)),(l()(),s._14(71,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrows fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n\n            "])),(l()(),s._14(73,0,null,null,1,"button",[["class","btn"],["id","btnZoomOut"],["title","Zoom Out"]],null,null,null,null,null)),(l()(),s._14(74,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-minus fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(76,0,null,null,19,"select",[["id","zoomBtn"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(78,0,null,null,1,"option",[["value","specific"]],null,null,null,null,null)),(l()(),s._29(-1,null,["100%"])),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(81,0,null,null,1,"option",[["value","actualsize"]],null,null,null,null,null)),(l()(),s._29(-1,null,["Actual Size"])),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(84,0,null,null,1,"option",[["value","fitwidth"]],null,null,null,null,null)),(l()(),s._29(-1,null,["Fit Width"])),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(87,0,null,null,1,"option",[["value","fitheight"]],null,null,null,null,null)),(l()(),s._29(-1,null,["Fit Height"])),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(90,0,null,null,1,"option",[["value","fitpage"]],null,null,null,null,null)),(l()(),s._29(-1,null,["Fit Page"])),(l()(),s._29(-1,null,["\n                "])),(l()(),s._14(93,0,null,null,1,"option",[["value","auto"]],null,null,null,null,null)),(l()(),s._29(-1,null,["Automatic"])),(l()(),s._29(-1,null,["\n\n            "])),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(97,0,null,null,1,"button",[["class","btn"],["id","btnZoomIn"],["title","Zoom In"]],null,null,null,null,null)),(l()(),s._14(98,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(101,0,null,null,4,"div",[["id","controls-right"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n            "])),(l()(),s._14(103,0,null,null,1,"button",[["class","btn"],["id","btnFullScreen"],["title","Fullscreen"]],null,null,null,null,null)),(l()(),s._14(104,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrows-alt fa-lg"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._29(-1,null,["\n\n    "])),(l()(),s._14(108,0,null,null,1,"div",[["id","idrviewer"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n\n    "])),(l()(),s._29(-1,null,["\n"]))],null,null)}function i(l){return s._30(0,[(l()(),s._14(0,0,null,null,1,"idrviewer",[],null,null,null,t,I)),s._12(1,245760,null,0,b,[f.d,h.a,h.k,d,g.a],null,null)],function(l,n){l(n,1,0)},null)}function a(l){return s._30(0,[(l()(),s._14(0,0,null,null,21,"div",[["class","view-selection"]],null,null,null,null,null)),(l()(),s._29(-1,null,["\n    "])),(l()(),s._14(2,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(4,0,null,null,5,"h1",[],null,null,null,null,null)),(l()(),s._14(5,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==s._25(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e}return e},null,null)),s._12(6,671744,null,0,h.l,[h.k,h.a,g.g],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),s._27(7,{page:0}),s._26(8,2),(l()(),s._29(-1,null,["Load IDRViewer document without pre-existing annotations"])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._14(12,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),s._29(-1,null,["\n        "])),(l()(),s._14(14,0,null,null,5,"h1",[],null,null,null,null,null)),(l()(),s._14(15,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;if("click"===n){e=!1!==s._25(l,16).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e}return e},null,null)),s._12(16,671744,null,0,h.l,[h.k,h.a,g.g],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),s._27(17,{page:0}),s._26(18,2),(l()(),s._29(-1,null,["Load IDRViewer document with pre-existing annotations (on page 30 and 31)"])),(l()(),s._29(-1,null,["\n    "])),(l()(),s._29(-1,null,["\n"]))],function(l,n){l(n,6,0,l(n,7,0,30),l(n,8,0,"/view",1)),l(n,16,0,l(n,17,0,30),l(n,18,0,"/view",2))},function(l,n){l(n,5,0,s._25(n,6).target,s._25(n,6).href),l(n,15,0,s._25(n,16).target,s._25(n,16).href)})}function o(l){return s._30(0,[(l()(),s._14(0,0,null,null,1,"viewselect",[],null,null,null,a,R)),s._12(1,49152,null,0,w,[],null,null)],null,null)}function r(l){return s._30(0,[(l()(),s._29(-1,null,["\n"])),(l()(),s._29(-1,null,["\n"])),(l()(),s._14(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),s._12(3,212992,null,0,h.n,[h.b,s.Y,s.k,[8,null],s.i],null,null),(l()(),s._29(-1,null,["\n"]))],function(l,n){l(n,3,0)},null)}function _(l){return s._30(0,[(l()(),s._14(0,0,null,null,1,"app-root",[],null,null,null,r,z)),s._12(1,49152,null,0,v,[],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var s=u("/oeL"),c={production:!0},d=function(){function l(){}return l.prototype.getIDRViewerDataById=function(l){if(1==l){var n={id:1,baseUrl:"assets/07_lowest_floor_guide_508_oct2017_2/",annotations:[]};return n}var n={id:2,baseUrl:"assets/07_lowest_floor_guide_508_oct2017_2/",annotations:[{id:"x314",image_selection:{h:"33.49%",src:"/assets/07_lowest_floor_guide_508_oct2017_2/30/img/1.png",uri:"http://localhost:4200/assets/07_lowest_floor_guide_508_oct2017_2/30/img/1.png",w:"24.48%",x:"16.32%",y:"38.28%"},quote:"",ranges:[],text:"some example annotation about windows"},{id:"kjpl",image_selection:{h:"34.45%",src:"/assets/07_lowest_floor_guide_508_oct2017_2/30/img/1.png",uri:"http://localhost:4200/assets/07_lowest_floor_guide_508_oct2017_2/30/img/1.png",w:"11.89%",x:"58.04%",y:"45.45%"},quote:"",ranges:[],text:"door annotation"},{id:"cmhk",image_selection:{h:"81.25%",src:"/assets/07_lowest_floor_guide_508_oct2017_2/31/img/1.png",uri:"http://localhost:4200/assets/07_lowest_floor_guide_508_oct2017_2/31/img/1.png",w:"62.30%",x:"19.20%",y:"7.69%"},quote:"",ranges:[],text:"a whole house annotation"}]};return n},l}(),f=u("CPp0"),h=u("BkNc"),g=u("qbdv"),p=u("S4Bb"),b=function(){function l(l,n,u,e,t){var i=this;this.http=l,this.route=n,this.router=u,this.idrViewerService=e,this.baseHref=t,this.apps=[],this.zoomScale=1,this.page=1,this.route.params.subscribe(function(l){i.id=l.id}),this.route.queryParams.subscribe(function(l){var n=+l.page;isNaN(n)||n<=0?i.page=1:i.page=n})}return l.prototype.ngOnInit=function(){var l=this;this.idrViewerData=this.idrViewerService.getIDRViewerDataById(this.id),this.http.get(this.baseHref+this.idrViewerData.baseUrl+"config.js").subscribe(function(n){var u=n.text().slice(19,-1),e=JSON.parse(u);l.initializeConfig(e)})},l.prototype.ngOnDestroy=function(){IDRViewer.off("pageload",this.handleIDRViewerPageLoad),IDRViewer.off("zoomchange",this.handleIDRViewerZoomChange),IDRViewer.off("pagechange",this.handleIDRViewerPageChange),this.apps.forEach(function(l){l.destroy()}),IDRViewerController.destroy_fullscreen()},l.prototype.initializeConfig=function(l){l.url=this.baseHref+this.idrViewerData.baseUrl,IDRViewerController.initialize_main(),IDRViewerController.initialize_fullscreen(),IDRViewerController.initialize_search(),IDRViewerController.initialize_toolbar(this.baseHref+this.idrViewerData.baseUrl),IDRViewer.on("pageload",this.handleIDRViewerPageLoad.bind(this)),IDRViewer.on("zoomchange",this.handleIDRViewerZoomChange.bind(this)),IDRViewer.on("pagechange",this.handleIDRViewerPageChange.bind(this)),IDRViewer.config=l,IDRViewer.goToPage(this.page),IDRViewer.setup()},l.prototype.handleIDRViewerPageLoad=function(l){var n=this,u=p("#p"+l.page),e=p("#pg"+l.page),t=p("#pdf"+l.page);t.one("load",function(){p("image",t[0].contentDocument).each(function(t,i){var a=new Image,o=n.baseHref+n.idrViewerData.baseUrl+l.page+"/"+i.getAttribute("xlink:href");a.width=i.getAttribute("width"),a.height=i.getAttribute("height"),a.src=o;var r=document.createElement("div");r.style.position="absolute",r.style["z-index"]=2,r.style.left=i.getAttribute("x")+"px",r.style.top=i.getAttribute("y")+"px",r.appendChild(a),e.append(r);var _=new annotator.App;_.include(annotatorImageSelectContainer,{element:p(a),container:u,suppressArrowKeys:!0,scale:n.zoomScale}).include(n.annotationStorageModule(n.idrViewerData).module),n.apps.push(_),_.start(),_.annotations.load({document_id:n.id,img_src:o})})})},l.prototype.handleIDRViewerZoomChange=function(l){this.zoomScale=l.zoomValue,this.apps.forEach(function(n){n.modules.forEach(function(n){n.isImgSelectContainerModule&&n.setScale(l.zoomValue)})})},l.prototype.handleIDRViewerPageChange=function(l){this.page=l.page,this.router.navigate([],{queryParams:{page:l.page},replaceUrl:!0})},l.prototype.annotationStorageModule=function(l){return{module:function(){return{create:function(l){return l.id=(Math.random()+1).toString(36).slice(-4),l},update:function(l){return l},delete:function(l){return l},query:function(n){var u=l.annotations.filter(function(l){return l.image_selection.src===n.img_src});return{results:u,meta:{total:u.length}}},configure:function(l){l.registerUtility(this,"storage")}}}}},l.ctorParameters=function(){return[{type:f.d},{type:h.a},{type:h.k},{type:d},{type:null,decorators:[{type:s.t,args:[g.a]}]}]},l}(),w=function(){function l(){}return l}(),m=function(){function l(){}return l}(),v=function(){function l(){this.title="app"}return l}(),y=[""],D=[y],I=s._11({encapsulation:0,styles:D,data:{}}),k=s._9("idrviewer",b,i,{},{},[]),V=[".view-selection[_ngcontent-%COMP%]{text-align:center}"],x=[V],R=s._11({encapsulation:0,styles:x,data:{}}),P=s._9("viewselect",w,o,{},{},[]),C=[""],S=[C],z=s._11({encapsulation:0,styles:S,data:{}}),q=s._9("app-root",v,_,{},{},[]),O=u("fc+i"),j=s._10(m,[v],function(l){return s._23([s._24(512,s.k,s._7,[[8,[k,P,q]],[3,s.k],s.E]),s._24(5120,s.A,s._22,[[3,s.A]]),s._24(4608,g.i,g.h,[s.A]),s._24(5120,s.c,s._15,[]),s._24(5120,s.y,s._20,[]),s._24(5120,s.z,s._21,[]),s._24(4608,O.b,O.s,[g.c]),s._24(6144,s.Q,null,[O.b]),s._24(4608,O.e,O.f,[]),s._24(5120,O.c,function(l,n,u,e){return[new O.k(l),new O.o(n),new O.n(u,e)]},[g.c,g.c,g.c,O.e]),s._24(4608,O.d,O.d,[O.c,s.G]),s._24(135680,O.m,O.m,[g.c]),s._24(4608,O.l,O.l,[O.d,O.m]),s._24(6144,s.O,null,[O.l]),s._24(6144,O.p,null,[O.m]),s._24(4608,s.W,s.W,[s.G]),s._24(4608,O.g,O.g,[g.c]),s._24(4608,O.i,O.i,[g.c]),s._24(4608,f.c,f.c,[]),s._24(4608,f.g,f.b,[]),s._24(5120,f.i,f.j,[]),s._24(4608,f.h,f.h,[f.c,f.g,f.i]),s._24(4608,f.f,f.a,[]),s._24(5120,f.d,f.k,[f.h,f.f]),s._24(5120,h.a,h.w,[h.k]),s._24(4608,h.d,h.d,[]),s._24(6144,h.f,null,[h.d]),s._24(135680,h.o,h.o,[h.k,s.D,s.j,s.w,h.f]),s._24(4608,h.e,h.e,[]),s._24(5120,h.h,h.z,[h.x]),s._24(5120,s.b,function(l){return[l]},[h.h]),s._24(4608,d,d,[]),s._24(512,g.b,g.b,[]),s._24(1024,s.o,O.q,[]),s._24(1024,s.F,function(){return[h.s()]},[]),s._24(512,h.x,h.x,[s.w]),s._24(1024,s.d,function(l,n,u){return[O.r(l,n),h.y(u)]},[[2,O.h],[2,s.F],h.x]),s._24(512,s.e,s.e,[[2,s.d]]),s._24(131584,s._13,s._13,[s.G,s._8,s.w,s.o,s.k,s.e]),s._24(2048,s.g,null,[s._13]),s._24(512,s.f,s.f,[s.g]),s._24(512,O.a,O.a,[[3,O.a]]),s._24(512,f.e,f.e,[]),s._24(1024,h.r,h.u,[[3,h.k]]),s._24(512,h.q,h.c,[]),s._24(512,h.b,h.b,[]),s._24(1024,g.a,e,[g.k]),s._24(256,h.g,{},[]),s._24(1024,g.g,h.t,[g.k,[2,g.a],h.g]),s._24(512,g.f,g.f,[g.g]),s._24(512,s.j,s.j,[]),s._24(512,s.D,s.T,[s.j,[2,s.U]]),s._24(1024,h.i,function(){return[[{path:"",redirectTo:"/select",pathMatch:"full"},{path:"view/:id",component:b},{path:"select",component:w}]]},[]),s._24(1024,h.k,h.v,[s.g,h.q,h.b,g.f,s.w,s.D,s.j,h.i,h.g,[2,h.p],[2,h.j]]),s._24(512,h.m,h.m,[[2,h.r],[2,h.k]]),s._24(512,m,m,[])])});c.production&&Object(s._2)(),Object(O.j)().bootstrapModuleFactory(j).catch(function(l){return console.log(l)})},gFIY:function(l,n){function u(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}u.keys=function(){return[]},u.resolve=u,l.exports=u,u.id="gFIY"}},[0]);